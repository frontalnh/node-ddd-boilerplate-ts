{"version":3,"file":"client.js","sourceRoot":"","sources":["../src/client.ts"],"names":[],"mappings":";;;AAAA,qCAAiD;AAEjD,qCAAqD;AACrD,qCAAkD;AAElD;;;;;GAKG;AACH;IAAgC,sCAAoC;IAClE;;;OAGG;IACH,oBAAmB,OAAoB;eACrC,kBAAM,qBAAW,EAAE,OAAO,CAAC;IAC7B,CAAC;IAED;;OAEG;IACa,iCAAY,GAA5B,UAA6B,KAAkB,EAAE,KAAa,EAAE,IAAsB;;;gBACpF,KAAK,CAAC,QAAQ,GAAG,KAAK,CAAC,QAAQ,IAAI,MAAM,CAAC;gBAC1C,KAAK,CAAC,GAAG,wBACJ,KAAK,CAAC,GAAG,IACZ,IAAI,EAAE,kBAAQ,EACd,QAAQ,mBACH,CAAC,CAAC,KAAK,CAAC,GAAG,IAAI,KAAK,CAAC,GAAG,CAAC,QAAQ,CAAC,IAAI,EAAE,CAAC;wBAC5C;4BACE,IAAI,EAAE,kBAAkB;4BACxB,OAAO,EAAE,qBAAW;yBACrB;wBAEH,OAAO,EAAE,qBAAW,GACrB,CAAC;gBAEF,IAAI,IAAI,CAAC,UAAU,EAAE,CAAC,UAAU,EAAE;oBAChC,KAAK,CAAC,WAAW,GAAG,IAAI,CAAC,UAAU,EAAE,CAAC,UAAU,CAAC;iBAClD;gBAED,sBAAO,iBAAM,YAAY,YAAC,KAAK,EAAE,KAAK,EAAE,IAAI,CAAC,EAAC;;;KAC/C;IACH,iBAAC;AAAD,CAAC,AAjCD,CAAgC,iBAAU,GAiCzC;AAjCY,gCAAU","sourcesContent":["import { BaseClient, Scope } from '@sentry/core';\nimport { SentryEvent, SentryEventHint } from '@sentry/types';\nimport { NodeBackend, NodeOptions } from './backend';\nimport { SDK_NAME, SDK_VERSION } from './version';\n\n/**\n * The Sentry Node SDK Client.\n *\n * @see NodeOptions for documentation on configuration options.\n * @see SentryClient for usage documentation.\n */\nexport class NodeClient extends BaseClient<NodeBackend, NodeOptions> {\n  /**\n   * Creates a new Node SDK instance.\n   * @param options Configuration options for this SDK.\n   */\n  public constructor(options: NodeOptions) {\n    super(NodeBackend, options);\n  }\n\n  /**\n   * @inheritDoc\n   */\n  protected async prepareEvent(event: SentryEvent, scope?: Scope, hint?: SentryEventHint): Promise<SentryEvent | null> {\n    event.platform = event.platform || 'node';\n    event.sdk = {\n      ...event.sdk,\n      name: SDK_NAME,\n      packages: [\n        ...((event.sdk && event.sdk.packages) || []),\n        {\n          name: 'npm:@sentry/node',\n          version: SDK_VERSION,\n        },\n      ],\n      version: SDK_VERSION,\n    };\n\n    if (this.getOptions().serverName) {\n      event.server_name = this.getOptions().serverName;\n    }\n\n    return super.prepareEvent(event, scope, hint);\n  }\n}\n"]}